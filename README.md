# Sonic Guardian ğŸ›¡ï¸ğŸ”Š

**Zero-Knowledge Acoustic Identity for Starknet**

Sonic Guardian turns your "Vibe" into a secure, recoverable Identity. 
Instead of a brittle 12-word seed phrase, your wallet is secured by a **Musical Idea** (e.g., *"A crunchy industrial techno beat"*).

If you lose your key, you simply **re-prompt** the AI with your vibe. The system proves your new prompt generates the same "Sonic DNA" as your original registration, allowing you to recover your account without ever exposing a private key.

## ğŸš€ Quick Start

### 1. Prerequisites
- Node.js 18+
- Docker (optional, for backend)
- Google Gemini API Key (for the Agent)

### 2. Installation
```bash
git clone https://github.com/thisyearnofear/sonicguardian.git
cd sonicguardian
npm install
```

### 3. Run the Demo (Frontend)
The frontend is a standalone HTML file that connects to the Strudel REPL.
```bash
# Serve the current directory
npx serve .
# Open http://localhost:3000
```

---

## ğŸ—ï¸ Architecture

### 1. The Sonic DNA Extractor (`dna.mjs`)
This is the core innovation. It takes **Strudel Code** (generated by AI) and extracts a deterministic "Sonic Fingerprint."
- **Normalization:** Rounds numbers (e.g., `gain(0.5)` vs `gain(0.51)` -> `gain(0.5)`).
- **Sorting:** Orders effects alphabetically so `s("bd").gain(1)` == `gain(1).s("bd")`.
- **Hashing:** Produces a SHA-256 hash of the normalized structure.

### 2. The Agent (Gemini 1.5 Flash)
The AI is prompted to be **deterministic**. It maps natural language vibes to specific Strudel functions:
- "Dark/Muffled" -> `.lpf(500)`
- "Fast/Techno" -> `s("bd*4")`
- "Spacious" -> `.delay(0.5).room(0.8)`

### 3. Starknet Integration (Planned)
- **Registration:** User commits the `Hash(SonicDNA)` to a Starknet smart contract.
- **Recovery:** User generates a ZK-Proof that they know the `SonicDNA` pre-image. The contract verifies the proof and rotates the wallet key.

---

## ğŸ”’ Security

This repo includes a pre-commit hook to prevent secret leakage.
- **Hook:** `.husky/pre-commit` runs `scripts/protect-secrets.sh`.
- **Scans:** It blocks commits containing `sk-proj-`, `ghp_`, `private key`, etc.
- **Bypass:** If you absolutely must commit a secret (don't), use `git commit --no-verify`.

## ğŸ› ï¸ Tech Stack
- **Frontend:** HTML5, CSS3, [Strudel REPL](https://strudel.cc)
- **Logic:** JavaScript (ES Modules), Acorn (AST Parser)
- **Backend:** Node.js / Docker (See `docker-compose.yml`)
- **AI:** Google Gemini 1.5 Flash

## ğŸ¤ Contributing
1. Fork the repo
2. Create your feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'feat: Add some amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## ğŸ“„ License
MIT
